(this["webpackJsonptrivia-game"]=this["webpackJsonptrivia-game"]||[]).push([[0],{157:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(62),i=t.n(c),u=t(39),l=t(4),o=t(47),s=t.n(o),m=t(63),f=t(5),d=t(10),b=t(17),p=t(74),v=t(66),g=t(18),h=t(160),E=(t(89),t(22)),j=t(7),O=t(15),y=t(36),w=t.n(y),x=t(20),k=t(19),S=t.n(k),C=function(e){var n=e.children;return r.a.createElement("p",{className:"title"},n)},N=function(e){var n=e.children,t=e.className,a=e.centered,c=e.rounded,i=e.dark,u=Object(x.a)(e,["children","className","centered","rounded","dark"]);return t=S()([t,"nes-container","with-title",{"is-dark":i},{"is-centered":a},{"is-rounded":c}]),r.a.createElement("div",Object.assign({className:t},u),n)},q=function(e){var n=e.children,t=e.className,a=e.variant,c=void 0===a?"":a,i=Object(x.a)(e,["children","className","variant"]),u=S()([t,"nes-btn","is-".concat(c)]);return r.a.createElement("button",Object.assign({className:u},i),n)},M=t(16),A=t.n(M);function D(){var e=Object(l.a)(["\n  flex: 1;\n  font-size: 10pt;\n  text-align: left;\n  margin-left: 8px;\n  margin-bottom: 0;\n"]);return D=function(){return e},e}function F(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  padding: 4px;\n  background: ",";\n  color: ",";\n"]);return F=function(){return e},e}function $(){var e=Object(l.a)(["\n  background: blue;\n  background-color: ",";\n  padding: 0.25em 0.75em;\n"]);return $=function(){return e},e}var B=Object(f.a)(N)($(),(function(e){return e.color||"black"})),T=f.a.div(F(),(function(e){return e.selected?"black":"none"}),(function(e){return e.selected?"white":"black"})),_=f.a.p(D()),P=function(e){var n=e.className,t=e.name,c=e.color,i=e.onClick,u=e.selected,l=Object(a.useState)(0),o=Object(j.a)(l,2),s=o[0],m=o[1];return Object(a.useEffect)((function(){return u&&(A.a.bind("right",(function(){return m(s+1)})),A.a.bind("left",(function(){return m(s-1)}))),function(){u||(A.a.unbind("right"),A.a.unbind("left"))}}),[u,s]),r.a.createElement(T,{className:n,selected:u,onClick:i},r.a.createElement(B,{color:c},s),r.a.createElement(_,null,t))};function I(){var e=Object(l.a)(["\n  background: white;\n  min-width: 400px;\n  min-height: 200px;\n"]);return I=function(){return e},e}function R(){var e=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.25);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return R=function(){return e},e}var z=f.a.div(R()),G=Object(f.a)(N)(I()),J=function(){},Q=function(e){var n=e.children,t=e.isOpen,c=e.onClose,i=void 0===c?J:c,u=e.onOpen,l=void 0===u?J:u;return Object(a.useEffect)((function(){return l(),function(){return i()}}),[]),t?r.a.createElement(z,null,r.a.createElement(G,null,n)):null},H=t(37),V=t(38),L=r.a.forwardRef((function(e,n){var t=e.className,a=e.name,c=Object(x.a)(e,["className","name"]),i=S()([t,"nes-field"]);return r.a.createElement("div",{className:i},r.a.createElement("label",{for:a},"Your name"),r.a.createElement("input",Object.assign({className:"nes-input",id:a,name:a,ref:n},c)))}));function W(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return W=function(){return e},e}function K(){var e=Object(l.a)(["\n  width: 24px;\n  height: 24px;\n  background-color: ",";\n  background-image: ",";\n  margin: 8px;\n  outline: none;\n"]);return K=function(){return e},e}var U=["#3BB273","#f44336","#4D9DE0","#7768AE","#6D676E","#b03060","#deb887","#ffd700","#ffb6c1","#ef6c00"],Y=Object(f.a)(N)(K(),(function(e){return e.value}),(function(e){return e.selected?" repeating-linear-gradient(\n    45deg,\n    transparent,\n    transparent 10px,\n    #ccc 10px,\n    #ccc 20px\n  )":"none"})),X=f.a.div(W()),Z=function(e){var n=e.className,t=e.onChange,c=e.name,i=Object(a.useState)(0),u=Object(j.a)(i,2),l=u[0],o=u[1],s=Object(a.useState)(!1),m=Object(j.a)(s,2),f=m[0],d=m[1];return Object(a.useEffect)((function(){t({target:{name:c,value:U[l]}})}),[l]),Object(a.useEffect)((function(){if(f)return A.a.bind("left",(function(){return o((l-1+U.length)%U.length)})),A.a.bind("right",(function(){return o((l+1)%U.length)})),function(){A.a.unbind("right"),A.a.unbind("left")}}),[f,l]),r.a.createElement(X,{className:n,tabIndex:0,onFocus:function(){return d(!0)},onBlur:function(){return d(!1)}},U.map((function(e,n){return r.a.createElement(Y,{selected:n===l,value:e,onClick:function(){return o(n)}})})))};function ee(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  \n  & > button {\n    margin-left: 8px;\n  }\n"]);return ee=function(){return e},e}function ne(){var e=Object(l.a)(["\n  width: 450px;\n  display: flex;\n  flex-direction: column;\n\n  & .with-bottom-margin {\n    margin-bottom: 16px;\n  }\n"]);return ne=function(){return e},e}var te=f.a.form(ne()),ae=f.a.div(ee()),re=function(e){var n=e.onCancel,t=e.onSubmit,c=Object(a.useState)({}),i=Object(j.a)(c,2),u=i[0],l=i[1],o=function(e){var n=e.target,t=n.name,a=n.value;l(Object(V.a)({},u,Object(H.a)({},t,a)))};return r.a.createElement(te,{onSubmit:function(e){e.preventDefault(),t(u)}},r.a.createElement(L,{className:"with-bottom-margin",name:"name",maxLength:10,onChange:o,autoFocus:!0}),r.a.createElement(Z,{className:"with-bottom-margin",onChange:o,name:"color"}),r.a.createElement(ae,null,r.a.createElement(q,{onClick:n},"Cancel"),r.a.createElement(q,{type:"submit"},"Add Player")))};function ce(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-rows: repeat(4, 10em);\n  grid-template-columns: repeat(6, 10em);\n  align-content: center;\n  justify-content: center;\n  grid-gap: 16px;\n  width: 100%;\n  height: 100%;\n  padding: 16px;\n\n  & a {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    text-decoration: none;\n    text-align: center;\n    font-size: 10pt;\n    width: 100%;\n    height: 100%;\n  }\n"]);return ce=function(){return e},e}var ie=[{id:9,name:"General Knowledge"},{id:10,name:"Books"},{id:11,name:"Film"},{id:12,name:"Music"},{id:13,name:"Musicals & Theatres"},{id:14,name:"Television"},{id:15,name:"Video Games"},{id:16,name:"Board Games"},{id:17,name:"Science & Nature"},{id:18,name:"Computers"},{id:19,name:"Mathematics"},{id:20,name:"Mythology"},{id:21,name:"Sports"},{id:22,name:"Geography"},{id:23,name:"History"},{id:24,name:"Politics"},{id:25,name:"Art"},{id:26,name:"Celebrities"},{id:27,name:"Animals"},{id:28,name:"Vehicles"},{id:29,name:"Comics"},{id:30,name:"Gadgets"},{id:31,name:"Japanese Anime & Manga"},{id:32,name:"Cartoon & Animations"}],ue=f.a.div(ce()),le=function(e){var n=e.children,t=n.indexOf("&");if(t>0){var a=n.slice(0,t),c=n.slice(t,t+1),i=n.slice(t+1);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,a),r.a.createElement("div",null,c),r.a.createElement("div",null,i))}return r.a.createElement("div",null,n)},oe=function(){return r.a.createElement(ue,null,ie.map((function(e){var n=e.name,t=e.id;return r.a.createElement(N,{rounded:!0,key:t},r.a.createElement(g.b,{to:"question/".concat(t)},r.a.createElement("div",null,r.a.createElement(le,null,n))))})))},se=t(33),me=t(40),fe=t.n(me),de=t(71),be=t.n(de),pe=t(41),ve=t.n(pe),ge=function(e){var n=e.className,t=e.value,c=Object(a.useRef)(Date.now()+1e3*t),i=Object(a.useState)(new Date),u=Object(j.a)(i,2),l=u[0],o=u[1],s=Object(a.useMemo)((function(){return new Date}),[]),m=function e(){var n=c.current-Date.now();n>0&&(o(n),requestAnimationFrame(e))};Object(a.useEffect)((function(){requestAnimationFrame(m)}),[]),s.setTime(l);var f=s.getMinutes(),d=s.getSeconds(),b=s.getMinutes()>9?"":"0",p=s.getSeconds()>9?"":"0";return r.a.createElement("div",{className:n},"".concat(b).concat(f,":").concat(p).concat(d))};function he(){var e=Object(l.a)(["\n  font-size: 8px;\n  width: ","\n"]);return he=function(){return e},e}var Ee=f.a.div(he(),(function(e){return e.width||"72px"})),je=function(e){var n=e.children,t=e.variant,a=e.width;return r.a.createElement(Ee,{className:"nes-badge",width:a},r.a.createElement("span",{className:"is-".concat(t)},n))};function Oe(){var e=Object(l.a)(["\n  margin-top: 16px;\n"]);return Oe=function(){return e},e}function ye(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  padding: 16px 0;\n  grid-gap: 16px;\n  visibility: ",";\n"]);return ye=function(){return e},e}function we(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n  margin-top: 32px;\n\n  & button:last-child {\n    margin-left: 16px;\n  }\n"]);return we=function(){return e},e}function xe(){var e=Object(l.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  && .title {\n    font-size: 16pt;\n  }\n  min-width: 600px;\n  max-width: 750px;\n"]);return xe=function(){return e},e}function ke(){var e=Object(l.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n\n  & .timer {\n    position: absolute;\n    top: 16px;\n    left: 50%;\n    transform: translate(-50%, 0);\n  }\n"]);return ke=function(){return e},e}function Se(){var e=Object(l.a)(['\n  query listQuestions {\n    questions(\n      amount: $amount\n      category: $category\n      type: $type\n      difficulty: $difficulty\n      token: $token\n    ) @rest(type: "[Question]", path: "/api.php?{args}") {\n      type\n      category\n      question\n      difficulty\n      correct_answer\n      incorrect_answers\n    }\n  }\n']);return Se=function(){return e},e}var Ce=w()(Se()),Ne=f.a.div(ke()),qe=Object(f.a)(N)(xe()),Me=f.a.div(we()),Ae=f.a.div(ye(),(function(e){return e.visibility})),De=f.a.div(Oe()),Fe=function(e,n){var t=n.fetchMoreResult;return e?t?Object(V.a)({},e,{questions:[].concat(Object(E.a)(t.questions),Object(E.a)(e.questions))}):e:t},$e={boolean:"true/false",multiple:"multiple choice"},Be=function(e){var n=e.difficulty,t=e.type,c=e.token,i={amount:1,category:Object(O.g)().category,difficulty:n,type:t,token:c},u=Object(se.a)(Ce,{variables:i,fetchPolicy:"network-only",fetchMoreResult:Fe}),l=u.data,o=u.loading,s=Object(a.useState)("question"),m=Object(j.a)(s,2),f=m[0],d=m[1],b=Object(a.useState)("hidden"),p=Object(j.a)(b,2),v=p[0],g=p[1],h=fe()(l,"questions.0.question",""),y=fe()(l,"questions.0.correct_answer",""),w=fe()(l,"questions.0.incorrect_answers",[]),x=Object(a.useMemo)((function(){return be()([].concat(Object(E.a)(w),[y]))}),[y]),k=Object(O.f)();return o?null:r.a.createElement(Ne,null,r.a.createElement(ge,{value:120,className:"timer"}),r.a.createElement(qe,null,"question"===f?r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null," Question "),r.a.createElement(je,{variant:"dark",width:"175px"},$e[t]),r.a.createElement(je,{variant:"warning"},n),r.a.createElement(De,null,ve.a.decode(h)),r.a.createElement(Ae,{visibility:v},x.map((function(e,n){return r.a.createElement("div",{key:(10+n).toString(36)},"".concat((10+n).toString(36),") ").concat(ve.a.decode(e)))}))),r.a.createElement(Me,null,r.a.createElement(q,{onClick:function(){return g("hidden"===v?"visible":"hidden")}},"hidden"===v?"Show options":"Hide options"),r.a.createElement(q,{variant:"success",onClick:function(){return d("answer")}},"View answer"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null," Answer "),ve.a.decode(y),r.a.createElement(Me,null,r.a.createElement(q,{onClick:function(){return d("question")}},"Back"),r.a.createElement(q,{variant:"primary",onClick:function(){return k.goBack()}},"Next Turn")))))},Te=function(e,n){var t=Object(a.useState)(),r=Object(j.a)(t,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){try{var t=sessionStorage.getItem(e),a=JSON.parse(t);i(a||n)}catch(r){console.log(r)}}),[]),Object(a.useEffect)((function(){try{var n=JSON.stringify(c);sessionStorage.setItem(e,n)}catch(t){console.log(t)}}),[c]),console.log(c),[c,i]};function _e(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return _e=function(){return e},e}var Pe=f.a.div(_e()),Ie=function(e){var n=e.options,t=e.name,a=e.value,c=e.onChange;return r.a.createElement(Pe,null,n.map((function(e){return r.a.createElement("label",{key:e.value},r.a.createElement("input",{type:"radio",class:"nes-radio",name:t,value:e.value,checked:e.value===a,onChange:c}),r.a.createElement("span",null,e.label))})))};function Re(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  & > button:last-child {\n    margin-left: 16px;\n  }\n"]);return Re=function(){return e},e}function ze(){var e=Object(l.a)(["\n  width: 600px;\n  & > * {\n    margin: 32px 0;\n  }\n"]);return ze=function(){return e},e}var Ge=f.a.div(ze()),Je=f.a.div(Re()),Qe=function(e){var n=e.onCancel,t=e.onSave,c=e.values,i=Object(a.useState)(c.difficulty),u=Object(j.a)(i,2),l=u[0],o=u[1],s=Object(a.useState)(c.type),m=Object(j.a)(s,2),f=m[0],d=m[1];return r.a.createElement(Ge,null,r.a.createElement(N,null,r.a.createElement(C,null,"Difficulty"),r.a.createElement(Ie,{name:"difficulty",onChange:function(e){return o(e.target.value)},value:l,options:[{label:"Easy",value:"easy"},{label:"Medium",value:"medium"},{label:"Hard",value:"hard"}]})),r.a.createElement(N,null,r.a.createElement(C,null,"Question Type"),r.a.createElement(Ie,{name:"type",onChange:function(e){return d(e.target.value)},value:f,options:[{label:"True/False",value:"boolean"},{label:"Multiple Choice",value:"multiple"}]})),r.a.createElement(Je,null,r.a.createElement(q,{onClick:n},"Cancel"),r.a.createElement(q,{onClick:function(){return t({type:f,difficulty:l})}},"Save")))};function He(){var e=Object(l.a)(["\n  mutation AddPlayer($id: Int!) {\n    addPlayer(id: $id, name: $name, color: $color) @client\n  }\n"]);return He=function(){return e},e}function Ve(){var e=Object(l.a)(["\n  flex: 1;\n"]);return Ve=function(){return e},e}function Le(){var e=Object(l.a)(["\n  width: 400px;\n  padding: 16px;\n  heigh: 100%;\n  display: flex;\n  padding: 16px;\n  flex-direction: column;\n\n  & button {\n    margin: 16px 0;\n  }\n"]);return Le=function(){return e},e}function We(){var e=Object(l.a)(["\n  flex: 1;\n  height: 100%;\n  position: relative;\n"]);return We=function(){return e},e}function Ke(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n"]);return Ke=function(){return e},e}var Ue=f.a.div(Ke()),Ye=f.a.div(We()),Xe=f.a.div(Le()),Ze=Object(f.a)(N)(Ve()),en=(w()(He()),function(){var e=Object(a.useState)([]),n=Object(j.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)(null),u=Object(j.a)(i,2),l=u[0],o=u[1],s=Te("players",[]),m=Object(j.a)(s,2),f=m[0],d=void 0===f?[]:f,b=m[1],p=Te("settings",{difficulty:"easy",type:"multiple"}),v=Object(j.a)(p,2),g=v[0],h=v[1];return r.a.createElement(Ue,null,r.a.createElement(Xe,null,r.a.createElement(Ze,{centered:!0},r.a.createElement(C,null,"Players"),d.map((function(e){return r.a.createElement(P,Object.assign({key:e.name},e,{selected:t===e,onClick:function(){return c(e)}}))})),r.a.createElement(q,{onClick:function(){return o("add-player")}},"Add Player")),r.a.createElement(q,{variant:"warning"},"Reset"),r.a.createElement(q,{variant:"primary",onClick:function(){return o("show-settings")}},"Settings")),r.a.createElement(Ye,null,r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/",exact:!0,component:oe}),r.a.createElement(O.a,{path:"/question/:category",render:function(){return r.a.createElement(Be,g)}}))),r.a.createElement(Q,{isOpen:"add-player"===l},r.a.createElement(re,{onCancel:function(){return o(null)},onSubmit:function(e){b([].concat(Object(E.a)(d),[e])),o(null)}})),r.a.createElement(Q,{isOpen:"show-settings"===l},r.a.createElement(Qe,{values:g,onCancel:function(){return o(null)},onSave:function(e){h(e),o(null)}})))});function nn(){var e=Object(l.a)(["\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n"]);return nn=function(){return e},e}var tn=new v.RestLink({uri:"https://opentdb.com",responseTransformer:function(e){return Object(m.a)(s.a.mark((function n(){var t,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.json();case 2:return t=n.sent,a=t.results,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))()}}),an=new p.a({dataIdFromObject:function(e){return"".concat(e.__typename,":").concat(Object(h.a)())}}),rn=new b.a({link:tn,cache:an,connectToDevTools:!0,typeDefs:"\n    type Question {\n        question: String!\n        category: String!\n        correct_answer: String!\n        difficulty: String!\n        incorrect_answers: [String]!\n        question: String!\n        type: String!\n    }\n"}),cn=f.a.div(nn()),un=function(){return Object(a.useEffect)((function(){u.a.pageview("/")}),[]),r.a.createElement(g.a,null,r.a.createElement(d.a,{client:rn},r.a.createElement(cn,null,r.a.createElement(en,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.initialize("UA-165041784-1"),i.a.render(r.a.createElement(un,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,n,t){e.exports=t(157)}},[[75,1,2]]]);
//# sourceMappingURL=main.f8939764.chunk.js.map